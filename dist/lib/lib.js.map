{"version":3,"sources":["../../lib/lib.js"],"names":["stream","require","randtoken","RandStream","encoding","objectMode","generate","chunk","Math","floor","random","console","log","push","setTimeout","Readable","asyncOp","input","callback","prom","Promise","resolve","then","module","exports"],"mappings":"AAAA;;;;;;;;;;AAEA,IAAIA,SAASC,QAAQ,QAAR,CAAb;AAAA,IACEC,YAAYD,QAAQ,YAAR,CADd;;IAGME,U;;;AAEJ,wBAAc;AAAA;;AAAA,wHACN;AACJC,gBAAU,MADN;AAEJC,kBAAY;AAFR,KADM;;AAMZ,UAAKC,QAAL;AANY;AAOb;;;;4BAEO,CAAG;;;+BAEA;AAAA;;AACT,UAAIC,QAAQL,UAAUI,QAAV,CACVE,KAAKC,KAAL,CAAW,IAAID,KAAKE,MAAL,KAAgB,EAA/B,CADU,EAEV,iEAFU,CAAZ;;AAKAC,cAAQC,GAAR,aAAsBL,KAAtB;;AAEA,WAAKM,IAAL,CAAUN,KAAV,EAAiB,MAAjB;;AAEAO,iBAAW,YAAM;AACf,eAAKR,QAAL;AACD,OAFD,EAEGE,KAAKE,MAAL,GAAc,IAFjB;AAGD;;;;EA1BsBV,OAAOe,Q;;AA6BhC,SAASC,OAAT,CAAiBC,KAAjB,EAAwBC,QAAxB,EAAkC;AAChCP,UAAQC,GAAR,aAAsBK,KAAtB;;AAEA,MAAIE,OAAO,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmB;AACxCP,eAAW,YAAM;AACfH,cAAQC,GAAR,cAAuBK,KAAvB;AACAI;AACD,KAHD,EAGGb,KAAKE,MAAL,KAAgB,IAHnB;AAID,GALU,CAAX;;AAOA,MAAI,CAACQ,QAAL,EAAe;AACb,WAAOC,IAAP;AACD;;AAEDA,OAAKG,IAAL,CAAUJ,QAAV;AACD;;AAEDK,OAAOC,OAAP,GAAiB;AACfrB,wBADe;AAEfa;AAFe,CAAjB","file":"lib.js","sourcesContent":["'use strict';\n\nlet stream = require('stream'),\n  randtoken = require('rand-token');\n\nclass RandStream extends stream.Readable {\n\n  constructor() {\n    super({\n      encoding: 'utf8',\n      objectMode: false\n    });\n\n    this.generate();\n  }\n\n  _read() { }\n\n  generate() {\n    let chunk = randtoken.generate(\n      Math.floor(5 + Math.random() * 25),\n      '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ.'\n    );\n\n    console.log(`CHUNK: ${chunk}`);\n\n    this.push(chunk, 'utf8');\n\n    setTimeout(() => {\n      this.generate();\n    }, Math.random * 1000);\n  }\n}\n\nfunction asyncOp(input, callback) {\n  console.log(`START: ${input}`);\n\n  let prom = new Promise(function (resolve) {\n    setTimeout(() => {\n      console.log(`FINISH: ${input}`);\n      resolve();\n    }, Math.random() * 1000);\n  });\n\n  if (!callback) {\n    return prom;\n  }\n\n  prom.then(callback);\n}\n\nmodule.exports = {\n  RandStream,\n  asyncOp\n};\n"]}